<html>

<head>
    <!-- Firebase App (the core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <!-- Include Firebase Auth and Firestore -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <script src="https://cdn.firesnippets.com/fireSnippets.js"></script>

</head>

<body>
    <input type="text" id="name" placeholder="Name">
    <input type="text" id="surname" placeholder="Surname">
    <input type="email" id="email" placeholder="Email">
    <input type="password" id="password" placeholder="Password">
    <button id="submitBtn">Sign Up</button>
    <br>
    <p id="nameDisplay"></p>
    <p id="surnameDisplay"></p>

    <div id="containerId"></div>

    <button onclick="letsUnsubscribe()">Unsubscribe</button>

    <script>


        function displayName(name, surname) {
            alert(name, " ", surname);
        }





        // Usage example
        const apiKey = "test_9tvfTa2on3qKJiEs3RQsmjlnmjSf1xdL";  // Replace with the actual API key
        const fireSnippets = new FireSnippets(apiKey);

        // Call the login function with IDs and callbacks
        //fireSnippets.signUp('E4ZhZs1qIhB2C8NFLAZS', (credential) => {/*Do stuff after success*/}, (errorMessage) => {/*Do stuff after faliure*/});


        /*let dynamic;
        fireSnippets.dynamicDisplay('A7rKPPWxJP1PThYrQiUA',
         [], 
         (snapshot) => {},
         (errorMessage) => {},
         (snippet) => {dynamic = snippet; console.log(dynamic);});*/

        /*fireSnippets.add('7KZdUeMljuEtPXMnAGP7', [], (credential) => {
            // Do stuff after success
            console.log("All good");
        },
            (errorMessage) => {
                // Do stuff after failure
                console.log("Oh No!");
            }
        );*/

        //getting currentUser
        fireSnippets.getCurrentUser().then(user => {
            console.log('User: ', user.uid);
        }).catch(error => {
            console.error('User error:', error);
        });


        // Payment
        fireSnippets.payment('Wsu8Cr2uWUqaoUitjOAc', []).then(paymentLink => {
            console.log('Redirecting to payment link:', paymentLink);
        }).catch(error => {
            console.error('Payment error:', error);
        });

        // Sign Up
        /*fireSnippets.signUp('sAOisQUiiO20jmhXdqsL')
            .then(userCredential => {
                // User signed up successfully
                console.log('User signed up:', userCredential);
            })
            .catch(error => {
                console.error('Sign-up error:', error);
            });*/



        function letsUnsubscribe() {
            dynamic.unsubscribe();
        }
    </script>

</body>

</html>